<div class="authform">
  <%= bootstrap_nested_form_for([@optimizable_class, @optimizable], :label_errors => true, :html => { :role => 'form'}) do |f| %>
    <%= f.alert_message "Please fix the errors below." %>

    <h3>New Optimization Item</h3>
    <%= f.text_field :optimizable_class, :value => f.object.optimizable_class.name, :autofocus => true, class: 'form-control disabled', :disabled => 'disabled' %>
    <%= f.text_field :reference_id, :label => "Reference ID", :autofocus => true, class: 'form-control' %>
    <%= f.text_field :description, :autofocus => true, class: 'form-control' %>

    <%= f.fields_for :optimizable_variants do |optimizable_variant_form| %>
      <%= optimizable_variant_form.text_field :url %>
      <%= optimizable_variant_form.link_to_remove "Remove this task" %>
    <% end %>
    <p><%= f.link_to_add "Add a variant", :optimizable_variants %></p>

    <%= f.submit 'Create', :class => 'button right' %>
  <% end %>
</div>
